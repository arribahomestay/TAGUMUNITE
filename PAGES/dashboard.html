<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Tagum UYnite - Admin</title>
  <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="../styles/dashboard.css" />
  <link rel="stylesheet" href="../styles/footer.css" />
</head>
<body class="h-full bg-gray-900 text-gray-100">
  <div id="navbar-root"></div>

  <div class="flex min-h-screen">
    <!-- Left sidebar -->
    <div class="hidden md:flex w-64 bg-gray-900 border-r border-gray-800">
      <aside class="flex flex-col w-full pt-4 pb-6 px-4">
        <div class="flex items-center justify-between mb-3">
          <h2 class="text-xs font-semibold uppercase tracking-wide text-gray-400">Top issues now</h2>
          <button class="inline-flex items-center px-2 py-1 text-xs rounded-md border border-gray-700 hover:border-gray-500 text-gray-200">Filter</button>
        </div>
        <div class="overflow-y-auto pr-1 space-y-1 text-sm">
          <!-- Always-visible issues -->
          <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Pothole – 3rd Ave & Main St</a>
          <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Street light outage – Riverside Park</a>
          <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Garbage overflow – Zone 3</a>
          <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Flooding – Creekside neighborhood</a>
          <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Noise complaint – Night market area</a>
          <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Traffic signal issue – City Hall junction</a>

          <!-- Extra issues revealed by "Show more" -->
          <div id="more-issues" class="space-y-1 hidden">
            <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Illegal dumping – Riverbank access road</a>
            <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Broken bench – Central playground</a>
            <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Blocked drain – Old town alley</a>
            <a href="#" class="block px-2 py-1 rounded-md hover:bg-gray-800 text-gray-300 truncate">Abandoned vehicle – Market parking lot</a>
          </div>
        </div>
        <button id="show-more-issues" class="mt-0.5 text-xs text-gray-400 hover:text-gray-200 text-left">Show more</button>
      </aside>
    </div>

    <!-- Main content + right sidebar wrapper -->
    <div class="flex-1 flex flex-col md:flex-row max-w-6xl mx-auto w-full px-4 gap-6 pt-6 pb-10">
      <!-- Main center column -->
      <section class="flex-1 space-y-4">
        <header class="flex items-center justify-between mb-2">
          <h1 class="text-2xl font-semibold">Home</h1>
        </header>

        <!-- Admin monitoring summary card -->
        <div class="bg-gray-800 border border-gray-700 rounded-lg p-4">
          <div class="flex items-center justify-between mb-3">
            <h2 class="text-sm font-semibold">City feed overview</h2>
            <span class="text-xs text-gray-400">Last 24 hours</span>
          </div>

          <div class="grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3 text-xs">
            <div class="bg-gray-900 border border-gray-700 rounded-md p-3">
              <p class="text-gray-400 mb-1">New reports</p>
              <p class="text-xl font-semibold">18</p>
              <p class="text-[11px] text-gray-500">+4 vs yesterday</p>
            </div>
            <div class="bg-gray-900 border border-gray-700 rounded-md p-3">
              <p class="text-gray-400 mb-1">Open issues</p>
              <p class="text-xl font-semibold">42</p>
              <p class="text-[11px] text-gray-500">12 marked high priority</p>
            </div>
            <div class="bg-gray-900 border border-gray-700 rounded-md p-3">
              <p class="text-gray-400 mb-1">Resolved today</p>
              <p class="text-xl font-semibold">9</p>
              <p class="text-[11px] text-gray-500">Avg. response 3h 12m</p>
            </div>
          </div>

          <div class="flex items-center justify-between text-xs text-gray-400">
            <p>Use these numbers to monitor the health of the resident report feed.</p>
            <button class="px-3 py-1 rounded-md bg-gray-700 hover:bg-gray-600 text-gray-100">View all reports</button>
          </div>
        </div>

        <!-- Feed card -->
        <div class="bg-gray-800 border border-gray-700 rounded-lg max-h-[520px] overflow-y-auto" id="dashboard-feed">
          <div class="flex items-center justify-between px-4 pt-3 pb-2 border-b border-gray-700">
            <h2 class="text-sm font-semibold">Feed</h2>
            <button class="text-xs px-2 py-1 border border-gray-700 rounded-md hover:border-gray-500">Filter</button>
          </div>
          <div class="p-4 space-y-4 text-sm" id="feed-list">
            <!-- Resident report card 1 -->
            <div class="border border-gray-700 rounded-md p-3 bg-gray-900">
              <div class="flex items-center justify-between mb-2">
                <div class="flex items-center gap-2">
                  <span class="h-6 w-6 rounded-full bg-yellow-500" aria-hidden="true"></span>
                  <div>
                    <p class="font-medium">Pothole on 3rd Ave & Main St</p>
                    <p class="text-xs text-gray-400">Reported by <span class="text-gray-200">Juan D.</span> • 12 min ago</p>
                  </div>
                </div>
                <button class="dashboard-view-btn text-xs px-3 py-1 border border-gray-700 rounded-md hover:border-gray-500">View</button>
              </div>
              <p class="text-gray-300 mb-2">Large pothole in the middle lane causing cars to swerve. Gets worse when it rains and is hard to see at night.</p>
              <div class="flex items-center gap-3 text-xs text-gray-400">
                <span class="px-1.5 py-0.5 rounded border border-gray-700">Roads</span>
                <span class="px-1.5 py-0.5 rounded border border-gray-700">High priority</span>
              </div>
            </div>

            <!-- Resident report card 2 -->
            <div class="border border-gray-700 rounded-md p-3 bg-gray-900">
              <div class="flex items-center justify-between mb-2">
                <div class="flex items-center gap-2">
                  <span class="h-6 w-6 rounded-full bg-green-500" aria-hidden="true"></span>
                  <div>
                    <p class="font-medium">Street light outage near Riverside Park</p>
                    <p class="text-xs text-gray-400">Reported by <span class="text-gray-200">Maria S.</span> • 45 min ago</p>
                  </div>
                </div>
                <button class="dashboard-view-btn text-xs px-3 py-1 border border-gray-700 rounded-md hover:border-gray-500">View</button>
              </div>
              <p class="text-gray-300 mb-2">Three consecutive street lights are not working along the riverside path, making the area very dark for joggers and bikers.</p>
              <div class="flex items-center gap-3 text-xs text-gray-400">
                <span class="px-1.5 py-0.5 rounded border border-gray-700">Lighting</span>
                <span class="px-1.5 py-0.5 rounded border border-gray-700">Medium priority</span>
              </div>
            </div>

            <!-- Additional static sample cards will be appended by JS for infinite-style feed -->
          </div>
        </div>
      </section>

      <!-- Right sidebar -->
      <aside class="w-full md:w-80 space-y-4">
        <section class="bg-gray-800 border border-gray-700 rounded-lg p-4">
          <h2 class="text-sm font-semibold mb-3">Latest notifications</h2>
          <div class="space-y-3 text-xs text-gray-300">
            <div>
              <p class="font-medium text-gray-200">5 min ago</p>
              <p><span class="text-gray-100 font-medium">New report</span> • Pothole on 3rd Ave &amp; Main St was submitted by Juan D.</p>
            </div>
            <div>
              <p class="font-medium text-gray-200">18 min ago</p>
              <p><span class="text-gray-100 font-medium">Status updated</span> • Street light outage near Riverside Park marked as <span class="text-yellow-300">In progress</span>.</p>
            </div>
            <div>
              <p class="font-medium text-gray-200">42 min ago</p>
              <p><span class="text-gray-100 font-medium">New report</span> • Overflowing garbage bins in Zone 3 reported by Carlo P.</p>
            </div>
            <div>
              <p class="font-medium text-gray-200">1 h ago</p>
              <p><span class="text-gray-100 font-medium">Resolved</span> • Damaged playground slide at Children&#39;s Park marked as fixed.</p>
            </div>
          </div>
          <button class="mt-3 text-xs text-blue-400 hover:underline">View all notifications →</button>
        </section>
      </aside>
    </div>
  </div>
  <!-- Report detail modal -->
  <div
    id="report-detail-modal"
    class="hidden fixed inset-0 z-40 flex items-center justify-center bg-black bg-opacity-60"
    aria-hidden="true"
  >
    <div class="bg-gray-900 border border-gray-700 rounded-lg shadow-xl max-w-xl w-full mx-4">
      <div class="flex items-center justify-between px-4 py-3 border-b border-gray-800">
        <div>
          <h2 id="report-detail-title" class="text-sm font-semibold">Report title</h2>
          <p id="report-detail-meta" class="text-[11px] text-gray-400">Reported by • time</p>
        </div>
        <button
          id="report-detail-close"
          class="h-7 w-7 flex items-center justify-center rounded-md hover:bg-gray-800 text-gray-300 text-sm"
          aria-label="Close report details"
        >
          ✕
        </button>
      </div>

      <div class="px-4 py-3 space-y-3 text-sm">
        <p id="report-detail-body" class="text-gray-200">
          Full description of the report will appear here.
        </p>
        <div id="report-detail-tags" class="flex flex-wrap gap-2 text-[11px] text-gray-300"></div>

        <!-- Comments -->
        <div class="mt-2 border-t border-gray-800 pt-3">
          <h3 class="text-xs font-semibold mb-2 text-gray-200">Admin comments</h3>
          <div
            id="report-detail-comments"
            class="space-y-2 max-h-40 overflow-y-auto text-xs text-gray-300"
          >
            <p class="text-[11px] text-gray-500">No comments yet. Be the first to reply to this report.</p>
          </div>

          <form id="report-detail-comment-form" class="mt-2 flex items-end gap-2 text-xs">
            <textarea
              id="report-detail-comment-input"
              rows="1"
              class="flex-1 resize-none rounded-md bg-gray-900 border border-gray-700 px-3 py-1.5 text-xs text-gray-100 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500"
              placeholder="Write a reply to this report..."
            ></textarea>
            <button
              type="submit"
              class="px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-500 text-[11px] font-semibold text-white whitespace-nowrap"
            >
              Post
            </button>
          </form>
        </div>
      </div>

      <div class="px-4 py-3 border-t border-gray-800 flex items-center justify-between text-[11px]">
        <p class="text-gray-400">Plan a follow-up for this report.</p>
        <div class="flex gap-2">
          <button
            id="report-detail-schedule"
            class="px-3 py-1.5 rounded-md bg-blue-600 hover:bg-blue-500 text-xs font-semibold text-white"
            type="button"
          >
            Create schedule
          </button>
          <button
            id="report-detail-close-secondary"
            class="px-3 py-1.5 rounded-md border border-gray-700 hover:border-gray-500 text-xs text-gray-200"
            type="button"
          >
            Close
          </button>
        </div>
      </div>
    </div>
  </div>

  <footer class="border-t border-gray-800 text-[11px] text-gray-500 flex justify-center gap-4 py-4 mt-4">
    <span>&copy; 2025 Tagum UYnite</span>
    <a href="#" class="hover:text-gray-300">Terms</a>
    <a href="#" class="hover:text-gray-300">Privacy</a>
    <a href="#" class="hover:text-gray-300">Status</a>
  </footer>

  <script src="../scripts/navbar.js"></script>
  <script src="../scripts/dashboard.js"></script>
</body>
</html>
